<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Birthday Card</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;400;600;700&display=swap');
        
        /* Keyframe animations */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes glow {
            0% { text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #e60073, 0 0 20px #ffc800, 0 0 25px #e60073;}
            100% { text-shadow: 0 0 5px #fff, 0 0 0px #fff, 0 0 0px #ff4da6, 0 0 30px #ffc800, 0 0 20px #ff4da6;}
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
            min-height: 100vh;
            margin: 0;
            overflow-x: hidden;
        }
        
        .card {
            backdrop-filter: blur(16px) saturate(180%);
            background: rgba(255, 255, 255, 0.75);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }
        
        .title {
            font-family: 'Pacifico', cursive;
            animation: glow 2s ease-in-out infinite alternate;
        }
        
        .balloon {
            width: 100px;
            height: 120px;
            position: absolute;
            animation: float 6s ease-in-out infinite;
        }
        
        .gift-box {
            width: 100px;
            height: 100px;
            position: relative;
            animation: float 4s ease-in-out infinite;
            transform-origin: center bottom;
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #f00;
            opacity: 0;
        }
    </style>
</head>
<body class="flex items-center justify-center p-4">
    <div class="relative w-full max-w-2xl">
        <!-- Animated Background Elements -->
        <div class="absolute -top-20 -left-20 w-40 h-40 rounded-full bg-pink-200 opacity-30 animate-pulse"></div>
        <div class="absolute -bottom-20 -right-20 w-64 h-64 rounded-full bg-yellow-200 opacity-30 animate-pulse delay-300"></div>
        
        <!-- Floating Balloons -->
        <div class="balloon top-10 left-10" style="animation-delay: 0s;">
            <svg viewBox="0 0 64 80" fill="#FF5252">
                <path d="M32 0C14.3 0 0 14.3 0 32s14.3 32 32 32 32-14.3 32-32S49.7 0 32 0zm0 60c-15.5 0-28-12.5-28-28S16.5 4 32 4s28 12.5 28 28-12.5 28-28 28z"/>
                <path d="M32 6c-14.4 0-26 11.6-26 26s11.6 26 26 26 26-11.6 26-26S46.4 6 32 6zm0 48c-12.1 0-22-9.9-22-22S19.9 10 32 10s22 9.9 22 22-9.9 22-22 22z"/>
                <path d="M32 12c-11 0-20 9-20 20s9 20 20 20 20-9 20-20-9-20-20-20zm0 36c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16z"/>
                <path d="M32 18c-7.7 0-14 6.3-14 14s6.3 14 14 14 14-6.3 14-14-6.3-14-14-14zm0 24c-5.5 0-10-4.5-10-10s4.5-10 10-10 10 4.5 10 10-4.5 10-10 10z"/>
                <path d="M32 24c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 12c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"/>
                <path d="M28 72h8v8h-8z"/>
                <path d="M30 74h4v4h-4z"/>
            </svg>
        </div>
        
        <div class="balloon top-1/4 right-16" style="animation-delay: 1s;">
            <svg viewBox="0 0 64 80" fill="#4CAF50">
                <path d="M32 0C14.3 0 0 14.3 0 32s14.3 32 32 32 32-14.3 32-32S49.7 0 32 0zm0 60c-15.5 0-28-12.5-28-28S16.5 4 32 4s28 12.5 28 28-12.5 28-28 28z"/>
                <path d="M32 6c-14.4 0-26 11.6-26 26s11.6 26 26 26 26-11.6 26-26S46.4 6 32 6zm0 48c-12.1 0-22-9.9-22-22S19.9 10 32 10s22 9.9 22 22-9.9 22-22 22z"/>
                <path d="M32 12c-11 0-20 9-20 20s9 20 20 20 20-9 20-20-9-20-20-20zm0 36c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16z"/>
                <path d="M32 18c-7.7 0-14 6.3-14 14s6.3 14 14 14 14-6.3 14-14-6.3-14-14-14zm0 24c-5.5 0-10-4.5-10-10s4.5-10 10-10 10 4.5 10 10-4.5 10-10 10z"/>
                <path d="M32 24c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 12c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"/>
                <path d="M28 72h8v8h-8z"/>
                <path d="M30 74h4v4h-4z"/>
            </svg>
        </div>
        
        <!-- Main Card -->
        <div class="card relative overflow-hidden p-8 mb-8">
            <div class="absolute -top-10 -right-10 w-40 h-40 bg-blue-200 rounded-full opacity-30 transform rotate-45"></div>
            <div class="absolute -bottom-10 -left-10 w-40 h-40 bg-purple-200 rounded-full opacity-30 transform -rotate-12"></div>
            
            <h1 class="title text-5xl text-center mb-6 text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-purple-600">
                Happy Birthday Sudu!
            </h1>
            
            <div class="text-center mb-8">
                <p id="dynamicMessage" class="text-xl font-semibold"></p>
            </div>
            
            <div class="flex justify-center space-x-6 mb-8">
                <div class="gift-box cursor-pointer hover:scale-110 transition-transform" onclick="openGift(this)">
                    <svg viewBox="0 0 100 100" fill="#FF5722">
                        <rect x="10" y="20" width="80" height="60" rx="5" ry="5"/>
                        <rect x="40" y="10" width="20" height="70" rx="5" ry="5"/>
                    </svg>
                    <p class="text-center mt-2 font-semibold">Click me!</p>
                </div>
                
                <div class="gift-box cursor-pointer hover:scale-110 transition-transform" onclick="openGift1(this)">
                    <svg viewBox="0 0 100 100" fill="#3F51B5">
                        <rect x="10" y="20" width="80" height="60" rx="5" ry="5"/>
                        <rect x="40" y="10" width="20" height="70" rx="5" ry="5"/>
                    </svg>
                    <p class="text-center mt-2 font-semibold">And me!</p>
                </div>
            </div>
            
            <div id="messageContainer" class="hidden">
                <div class="text-center mb-6">
                    <p id="surpriseMessage" class="text-2xl font-bold text-pink-600">üéâ Surprise! üéä</p>
                    <p id="followUpMessage" class="text-lg mt-2"></p>
                </div>
            </div>
            
            <div class="mt-6 text-center">
                <button onclick="startConfetti()" class="px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-full font-semibold hover:scale-105 transition-transform">
                    Celebrate More!
                </button>
            </div>
        </div>
        
        <!-- Signature Section -->
        <div class="flex justify-end">
            <div class="relative group">
                <div class="absolute -inset-1 bg-gradient-to-r from-pink-600 to-purple-600 rounded-lg blur opacity-75 group-hover:opacity-100 transition duration-200 animate-tilt"></div>
                <div class="relative px-6 py-4 bg-white rounded-lg shadow-lg">
                    <p class="text-gray-800 font-semibold">Made with ‚ù§Ô∏è by your..............</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Confetti Canvas (hidden by default) -->
    <canvas id="confettiCanvas" class="fixed top-0 left-0 w-full h-full pointer-events-none z-50" style="display: none;"></canvas>
    
    <script>
        // Birthday messages array
        const generalMessages = [
            "May your day be as wonderful as you are!"
        ];
        
        const surpriseMessages = [
            "Happy Birthday. I may not know what tomorrow holds for us, but I do know that you deserve all the love and happiness in the world‚Äîtoday and always.",
            "‚ÄúOn your special day, I just want you to know how much you‚Äôve meant to me. Our journey together will always stay in my heart. Happy Birthday.‚Äù",
            "Happy Birthday. Even if life is pulling us in different directions, my love and respect for you will never fade. I truly wish you the best in everything.",
            "Today we celebrate you and all the joy you bring to others!",
            "Birthdays come around every year, but friends like you only come once in a lifetime!"
        ];
        
        // Set initial message
        document.getElementById('dynamicMessage').textContent = getRandomMessage(generalMessages);
        
        function getRandomMessage(messageArray) {
            return messageArray[Math.floor(Math.random() * messageArray.length)];
        }
        
        // Gift opening function
        function openGift(element) {
            // Rotate and hide the gift
            element.style.animation = 'rotate 1s ease-in-out';
            element.style.opacity = '0';
            
            // Update messages
            const surpriseElement = document.getElementById('surpriseMessage');
            const followUpElement = document.getElementById('followUpMessage');
            
            surpriseElement.textContent = 'üéâ Surprise! üéä';
            followUpElement.textContent = getRandomMessage(surpriseMessages);
            
            // Show the message after animation completes
            setTimeout(() => {
                document.getElementById('messageContainer').classList.remove('hidden');
                createMiniConfetti(element.getBoundingClientRect().left + 50, element.getBoundingClientRect().top + 50);
            }, 1000);

        }

            // Gift opening function
        function openGift1(element) {
            // Rotate and hide the gift
            element.style.animation = 'rotate 1s ease-in-out';
            element.style.opacity = '0';
            
            // Update messages
            const surpriseElement = document.getElementById('surpriseMessage');
            const followUpElement = document.getElementById('followUpMessage');
            
            surpriseElement.textContent = 'üéâ Surprise! üéä';
            followUpElement.textContent = getRandomMessage(surpriseMessages);
            
            // Show the message after animation completes
            setTimeout(() => {
                document.getElementById('messageContainer').classList.remove('hidden');
                createMiniConfetti(element.getBoundingClientRect().left + 50, element.getBoundingClientRect().top + 50);
            }, 1000);
        }
        
        // Mini confetti for gifts
        function createMiniConfetti(x, y) {
            for (let i = 0; i < 30; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = `${x}px`;
                confetti.style.top = `${y}px`;
                confetti.style.backgroundColor = getRandomColor();
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                
                // Random shape
                if (Math.random() > 0.5) {
                    confetti.style.borderRadius = '50%';
                } else {
                    confetti.style.borderRadius = '0';
                }
                
                document.body.appendChild(confetti);
                
                // Animate confetti
                const angle = Math.random() * Math.PI * 2;
                const velocity = 3 + Math.random() * 3;
                const distance = 50 + Math.random() * 100;
                
                let currentPos = 0;
                let opacity = 1;
                
                const moveConfetti = () => {
                    currentPos += velocity;
                    opacity -= 0.02;
                    
                    confetti.style.left = `${x + Math.cos(angle) * currentPos}px`;
                    confetti.style.top = `${y + Math.sin(angle) * currentPos}px`;
                    confetti.style.opacity = opacity;
                    confetti.style.transform = `rotate(${currentPos * 5}deg)`;
                    
                    if (currentPos < distance && opacity > 0) {
                        requestAnimationFrame(moveConfetti);
                    } else {
                        confetti.remove();
                    }
                };
                
                setTimeout(() => {
                    requestAnimationFrame(moveConfetti);
                }, i * 50);
            }
        }
        
        function getRandomColor() {
            const colors = ['#FF5252', '#FF4081', '#E040FB', '#7C4DFF', '#448AFF', '#40C4FF', '#64FFDA', '#B2FF59', '#EEFF41', '#FFD740'];
            return colors[Math.floor(Math.random() * colors.length)];
        }
        
        // Full-screen confetti effect
        function startConfetti() {
            const canvas = document.getElementById('confettiCanvas');
            canvas.style.display = 'block';
            
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            const particles = [];
            const colors = ['#FF5252', '#FF4081', '#E040FB', '#7C4DFF', '#448AFF', '#40C4FF', '#64FFDA', '#B2FF59', '#EEFF41', '#FFD740'];
            
            // Create particles
            function createParticles() {
                for (let i = 0; i < 100; i++) {
                    particles.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height,
                        size: Math.random() * 10 + 5,
                        color: colors[Math.floor(Math.random() * colors.length)],
                        speedX: Math.random() * 3 - 1.5,
                        speedY: Math.random() * 3 + 1,
                        rotation: Math.random() * 360,
                        rotationSpeed: Math.random() * 5,
                    });
                }
            }
            
            // Draw particles
            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                for (let i = 0; i < particles.length; i++) {
                    const p = particles[i];
                    
                    ctx.save();
                    ctx.translate(p.x, p.y);
                    ctx.rotate(p.rotation * Math.PI / 180);
                    
                    ctx.fillStyle = p.color;
                    ctx.fillRect(-p.size/2, -p.size/2, p.size, p.size);
                    
                    ctx.restore();
                    
                    // Update position
                    p.x += p.speedX;
                    p.y += p.speedY;
                    p.rotation += p.rotationSpeed;
                    
                    // Reset if off screen
                    if (p.y > canvas.height + p.size) {
                        p.y = -p.size;
                        p.x = Math.random() * canvas.width;
                    }
                    
                    if (p.x < -p.size) p.x = canvas.width + p.size;
                    if (p.x > canvas.width + p.size) p.x = -p.size;
                }
                
                requestAnimationFrame(draw);
            }
            
            createParticles();
            draw();
            
            // Stop after 5 seconds
            setTimeout(() => {
                canvas.style.display = 'none';
                particles.length = 0;
            }, 5000);
            
            // Change dynamic message
             document.getElementById('dynamicMessage').innerHTML = 
                "Happy Birthday Sudu üéÇ‚ù§Ô∏è <br> 20/08/2025";
        }
        
      

<!-- Previous HTML/CSS remains exactly the same until the script section -->


    // Audio setup
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
    let customSoundLoaded = false;
    const celebrationSound = new Audio();
    
    // Try to load custom sound file
    celebrationSound.src = "happy-birthday-322777.mp3"; // Change this to your sound file name
    celebrationSound.preload = "auto";
    celebrationSound.load();
    
    celebrationSound.addEventListener('canplaythrough', () => {
        customSoundLoaded = true;
    });
    
    celebrationSound.addEventListener('error', () => {
        customSoundLoaded = false;
    });

    // Set personalized message directly in code
    function setPersonalMessage() {
        const name = "Alex"; // Change this to the recipient's name
        const specialMessage = "Wishing you a day as wonderful as you are!"; // Change this to your message
        
        document.getElementById('personalMessage').textContent = 
            `Dear ${name}, ${specialMessage}`;
    }
    
    // Call this when page loads
    setPersonalMessage();

    // Existing gift opening function
    function openGift(element) {
        // Rotate and hide the gift
        element.style.animation = 'rotate 1s ease-in-out';
        element.style.opacity = '0';
        
        // Show the message after animation completes
        setTimeout(() => {
            document.getElementById('messageContainer').classList.remove('hidden');
            createMiniConfetti(element.getBoundingClientRect().left + 50, element.getBoundingClientRect().top + 50);
            playCelebrationSound();
        }, 1000);
    }

    // Play sound - tries custom file first, falls back to Web Audio
    function playCelebrationSound() {
        if (customSoundLoaded) {
            // Play the loaded sound file
            celebrationSound.currentTime = 0; // Rewind to start
            celebrationSound.play().catch(e => {
                console.log("Audio playback blocked:", e);
                playSynthSound(); // Fallback to synthetic sound
            });
        } else {
            playSynthSound();
        }
    }
    
    // Fallback synthesized sound
    function playSynthSound() {
        try {
            const now = audioContext.currentTime;
            const osc1 = audioContext.createOscillator();
            const osc2 = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            gainNode.gain.value = 0.3;
            
            osc1.connect(gainNode);
            osc2.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            osc1.type = 'sine';
            osc2.type = 'triangle';
            
            osc1.frequency.setValueAtTime(440, now);
            osc1.frequency.exponentialRampToValueAtTime(880, now + 0.2);
            osc1.frequency.exponentialRampToValueAtTime(660, now + 0.5);
            
            osc2.frequency.setValueAtTime(660, now);
            osc2.frequency.exponentialRampToValueAtTime(880, now + 0.3);
            osc2.frequency.exponentialRampToValueAtTime(440, now + 0.6);
            
            gainNode.gain.exponentialRampToValueAtTime(0.01, now + 1);
            
            osc1.start(now);
            osc2.start(now);
            osc1.stop(now + 1);
            osc2.stop(now + 1);
        } catch (e) {
            console.log("Web Audio not supported");
        }
    }

    // Rest of your existing JavaScript remains the same...
    // (Mini confetti, getRandomColor, startConfetti functions stay unchanged)



        
        
        // Resize canvas on window resize
        window.addEventListener('resize', () => {
            const canvas = document.getElementById('confettiCanvas');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>

